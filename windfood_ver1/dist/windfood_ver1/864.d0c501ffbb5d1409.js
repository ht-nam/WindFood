"use strict";(self.webpackChunkwindfood_ver1=self.webpackChunkwindfood_ver1||[]).push([[864],{1864:(b,a,n)=>{n.r(a),n.d(a,{LoginRoutingModule:()=>f});var s=n(2480),o=n(2223),r=n(9401),g=n(6464);let d=(()=>{class t{constructor(e,i,m,h){this.fb=e,this.service=i,this.route=m,this.router=h}ngOnInit(){this.initForm(),localStorage.getItem("token")&&this.router.navigate(["dashboard"])}initForm(){this.form=this.fb.group({username:null,password:null})}onSubmit(){this.service.loginUser(this.form?.value).subscribe(e=>{localStorage.setItem("token",e),this.service.getCurrentUser().subscribe(i=>{console.log("tvv-current:",i),0==i?.role?(this.router.navigate(["dashboard"]),localStorage.setItem("role","ADMIN")):(this.router.navigate(["employees/sales"]),localStorage.setItem("role","NV"))})})}}return t.\u0275fac=function(e){return new(e||t)(o.Y36(r.QS),o.Y36(g.r),o.Y36(s.gz),o.Y36(s.F0))},t.\u0275cmp=o.Xpm({type:t,selectors:[["app-login"]],decls:17,vars:1,consts:[[1,"gradient-custom"],[1,"container","py-5","h-100"],[1,"row","d-flex","justify-content-center","align-items-center","h-100"],[1,"col-12","col-md-8","col-lg-6","col-xl-5"],[1,"card","bg-dark","text-white",2,"border-radius","1rem"],[1,"card-body","p-5","text-center",3,"formGroup","ngSubmit"],[1,"mb-md-5","mt-md-4","pb-5"],[1,"fw-bold","mb-2","text-uppercase"],[1,"text-white-50","mb-5"],[1,"form-outline","form-white","mb-4"],["placeholder","Username","type","text","formControlName","username","id","typeEmailX",1,"form-control","form-control-lg"],["placeholder","Password","type","password","formControlName","password","id","typePasswordX",1,"form-control","form-control-lg"],["type","submit",1,"btn","btn-outline-light","btn-lg","px-5"]],template:function(e,i){1&e&&(o.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"form",5),o.NdJ("ngSubmit",function(){return i.onSubmit()}),o.TgZ(6,"div",6)(7,"h2",7),o._uU(8,"Login"),o.qZA(),o.TgZ(9,"p",8),o._uU(10,"Please enter your login and password!"),o.qZA(),o.TgZ(11,"div",9),o._UZ(12,"input",10),o.qZA(),o.TgZ(13,"div",9),o._UZ(14,"input",11),o.qZA(),o.TgZ(15,"button",12),o._uU(16,"Login"),o.qZA()()()()()()()()),2&e&&(o.xp6(5),o.Q6J("formGroup",i.form))},dependencies:[r._Y,r.Fj,r.JJ,r.JL,r.sg,r.u],styles:[".gradient-custom[_ngcontent-%COMP%]{background:#6a11cb;background:-webkit-linear-gradient(to right,#DE3163,rgb(37,117,252));height:100vh;background:linear-gradient(to right,#DE3163,rgb(37,117,252))}"]}),t})();var u=n(4755),c=n(2399);const p=[{path:"",children:[{path:"",component:d}]}];let f=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=o.oAB({type:t}),t.\u0275inj=o.cJS({providers:[r.sg],imports:[s.Bz.forChild(p),u.ez,c.d,s.Bz]}),t})()}}]);