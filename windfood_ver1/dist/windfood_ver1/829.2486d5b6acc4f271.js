"use strict";(self.webpackChunkwindfood_ver1=self.webpackChunkwindfood_ver1||[]).push([[829],{2246:(P,f,r)=>{r.d(f,{s:()=>C});var u=r(2340),_=r(2223),s=r(3144);let C=(()=>{class g{constructor(c){this.httpClient=c,this.baseUrl=u.N.baseUrl+"api/foods",this.categoryUrl=u.N.baseUrl+"api/categories"}getAllProductsPaging(c){return this.httpClient.post(this.baseUrl+"/paging",c,{responseType:"json"})}getAllProducts(){return this.httpClient.get(this.baseUrl)}addOrEditFood(c){return this.httpClient.post(this.baseUrl,c,{responseType:"json"})}deleteFood(c){return this.httpClient.delete(this.baseUrl+`/${c}`)}getAllCategories(){return this.httpClient.get(this.categoryUrl)}getByCategory(){return this.httpClient.get(this.baseUrl+"/by-category")}}return g.\u0275fac=function(c){return new(c||g)(_.LFG(s.eN))},g.\u0275prov=_.Yz7({token:g,factory:g.\u0275fac,providedIn:"root"}),g})()},6829:(P,f,r)=>{r.r(f),r.d(f,{SalesRoutingModule:()=>F});var u=r(2480),_=r(2399),s=r(9401),C=r(3144),g=r(4755),p=r(4333),c=r(2018),t=r(2223),h=r(2246),v=r(346),M=r(2349),O=r(1728),m=r(3617),b=r(6012);const y=["tabGroup"];function Z(e,d){if(1&e){const o=t.EpF();t.TgZ(0,"div",14)(1,"div",15)(2,"div",16),t._UZ(3,"img",17),t.qZA(),t.TgZ(4,"div",18)(5,"div",19)(6,"a",20),t._uU(7),t.qZA(),t.TgZ(8,"span",21),t._uU(9),t.qZA(),t.TgZ(10,"span",21),t._uU(11),t.qZA()(),t.TgZ(12,"div",22)(13,"div",23)(14,"div")(15,"button",24),t.NdJ("click",function(){const i=t.CHM(o).index,l=t.oxw();return t.KtG(l.addToCard(i))}),t._UZ(16,"img",25),t.qZA()()(),t._UZ(17,"hr"),t.TgZ(18,"div",26)(19,"div",27)(20,"span"),t._uU(21),t.qZA()(),t.TgZ(22,"div",28)(23,"div",29)(24,"div",30)(25,"button",31),t.NdJ("click",function(){const i=t.CHM(o).index,l=t.oxw();return t.KtG(l.decreaseQuantity(i))}),t._UZ(26,"i",32),t.qZA()(),t._UZ(27,"input",33),t.TgZ(28,"div",34)(29,"button",35),t.NdJ("click",function(){const i=t.CHM(o).index,l=t.oxw();return t.KtG(l.increaseQuantity(i))}),t._UZ(30,"i",36),t.qZA()()()()()()()()()}if(2&e){const o=d.$implicit,n=d.index;t.xp6(1),t.Q6J("formGroupName",n),t.xp6(2),t.s9C("src",null==o?null:o.urlImg,t.LSH),t.xp6(4),t.Oqu(null==o?null:o.foodName),t.xp6(2),t.hij("M\xf4 t\u1ea3: ",null==o?null:o.description,""),t.xp6(2),t.hij("S\u1ed1 l\u01b0\u1ee3ng: ",null==o?null:o.quantity,""),t.xp6(10),t.hij("",null==o?null:o.price," VN\u0110")}}function T(e,d){if(1&e){const o=t.EpF();t.TgZ(0,"div",14)(1,"div",15)(2,"div",16),t._UZ(3,"img",17),t.qZA(),t.TgZ(4,"div",18)(5,"div",19)(6,"a",20),t._uU(7),t.qZA(),t.TgZ(8,"span",21),t._uU(9),t.qZA(),t.TgZ(10,"span",21),t._uU(11),t.qZA()(),t.TgZ(12,"div",22)(13,"div",23)(14,"div")(15,"button",24),t.NdJ("click",function(){const i=t.CHM(o).index,l=t.oxw(2);return t.KtG(l.addToCard(i))}),t._UZ(16,"img",25),t.qZA()()(),t._UZ(17,"hr"),t.TgZ(18,"div",26)(19,"div",27)(20,"span"),t._uU(21),t.qZA()(),t.TgZ(22,"div",28)(23,"div",29)(24,"div",30)(25,"button",31),t.NdJ("click",function(){const i=t.CHM(o).index,l=t.oxw(2);return t.KtG(l.decreaseQuantity(i))}),t._UZ(26,"i",32),t.qZA()(),t._UZ(27,"input",33),t.TgZ(28,"div",34)(29,"button",35),t.NdJ("click",function(){const i=t.CHM(o).index,l=t.oxw(2);return t.KtG(l.increaseQuantity(i))}),t._UZ(30,"i",36),t.qZA()()()()()()()()()}if(2&e){const o=d.$implicit,n=d.index;t.xp6(1),t.Q6J("formGroupName",n),t.xp6(2),t.s9C("src",null==o?null:o.urlImg,t.LSH),t.xp6(4),t.Oqu(null==o?null:o.foodName),t.xp6(2),t.hij("M\xf4 t\u1ea3: ",null==o?null:o.description,""),t.xp6(2),t.hij("S\u1ed1 l\u01b0\u1ee3ng: ",null==o?null:o.quantity,""),t.xp6(10),t.hij("",null==o?null:o.price," VN\u0110")}}const x=function(e,d){return{itemsPerPage:6,currentPage:e,totalItems:d}};function S(e,d){if(1&e){const o=t.EpF();t.ynx(0),t.TgZ(1,"mat-tab",37)(2,"form",8),t.ynx(3,9),t.YNc(4,T,31,6,"div",10),t.ALo(5,"paginate"),t.BQk(),t.TgZ(6,"div",11)(7,"pagination-controls",12),t.NdJ("pageChange",function(a){t.CHM(o);const i=t.oxw();return t.KtG(i.renderPage(a))}),t.qZA()()()(),t.BQk()}if(2&e){const o=d.$implicit,n=t.oxw();t.xp6(1),t.s9C("label",null==o?null:o.categoryName),t.xp6(1),t.Q6J("formGroup",n.foodForm),t.xp6(2),t.Q6J("ngForOf",t.xi3(5,3,n.productCategory,t.WLB(6,x,n.pagination,n.allFood)))}}const A=[{path:"",children:[{path:"",component:(()=>{class e{constructor(o,n,a,i,l){this.service=o,this.fb=n,this.loader=a,this.cateService=i,this.productService=l,this.allFood=0,this.pagination=1,this.productArr=[],this.categories=[],this.productFilter=[],this.productCategory=[]}ngOnInit(){this.foodForm=this.fb.group({foodCards:this.fb.array([])}),this.initForm(),this.service.getAllProductsPaging(this.form?.value).subscribe({next:o=>{o&&this.loader.hide(),this.pagination=this.form?.get("pageIndex")?.value,this.products=o?.data,this.allFood=o?.count},error:o=>{console.log(o)},complete:()=>{this.products?.length>0&&this.products.forEach(o=>{this.foodQuantityForm=this.fb.group({quantity:new s.NI(0)}),this.f.push(this.foodQuantityForm)})}}),this.getListOfCategory(),this.getByCategory()}onTabClick(o){this.productCategory=this.productFilter.filter(n=>n?.category?.categoryName?.includes(o?.tab?.textLabel))}getListOfCategory(){this.cateService.getAllCategories().subscribe(o=>{this.categories=o})}getByCategory(){this.productService.getByCategory().subscribe(o=>{this.productFilter=o})}initForm(){this.form=this.fb.group({pageIndex:1,pageSize:9});let o=localStorage.getItem("products"),n=JSON.parse(o);console.log(n)}get f(){return this.foodForm?.controls.foodCards}increaseQuantity(o){let n=this.f.at(o).get("quantity")?.value;n++,n>0&&this.f.at(o).get("quantity")?.setValue(n)}decreaseQuantity(o){let n=this.f.at(o).get("quantity")?.value;n--,n>=0&&this.f.at(o).get("quantity")?.setValue(n)}addToCard(o){if(0!==this.f.at(o).get("quantity")?.value){let n=localStorage.getItem("products"),a=JSON.parse(n)||[];a.push({value:this.f.at(o).get("quantity")?.value,products:this.products.at(o)}),n=JSON.stringify(a),localStorage.setItem("products",n)}console.log(this.products.at(o))}getAllProducts(){this.loader.show(),this.service.getAllProductsPaging(this.form?.value).subscribe(o=>{o&&this.loader.hide(),this.pagination=this.form?.get("pageIndex")?.value,this.products=o?.data,this.allFood=o?.count})}renderPage(o){this.form?.get("pageIndex")?.setValue(o),this.getAllProducts()}}return e.\u0275fac=function(o){return new(o||e)(t.Y36(h.s),t.Y36(s.QS),t.Y36(v.t2),t.Y36(M.G),t.Y36(h.s))},e.\u0275cmp=t.Xpm({type:e,selectors:[["app-sales"]],viewQuery:function(o,n){if(1&o&&t.Gf(y,5),2&o){let a;t.iGM(a=t.CRH())&&(n.tabGroup=a.first)}},decls:18,vars:9,consts:[[1,"gradient-custom",2,"height","100%"],[1,"gradient-custom"],[1,"main-content","card"],[1,"container",2,"width","100%"],[1,"text-center","text-uppercase"],["mat-stretch-tabs","true","mat-align-tabs","start",3,"selectedTabChange"],["tabGroup",""],["label","T\u1ea5t c\u1ea3"],[1,"row",3,"formGroup"],["formArrayName","foodCards"],["class","col-sm-6 col-md-6 col-lg-4",4,"ngFor","ngForOf"],[1,"d-flex","justify-content-center"],[3,"pageChange"],[4,"ngFor","ngForOf"],[1,"col-sm-6","col-md-6","col-lg-4"],[1,"food-card",3,"formGroupName"],[1,"food-card_img"],["alt","",3,"src"],[1,"food-card_content"],[1,"food-card_title-section"],["href","#!",1,"food-card_title"],[1,"food-card_author"],[1,"food-card_bottom-section"],[1,"d-flex","align-items-center","justify-content-center"],["mat-button","","color","accent",3,"click"],["src","../../../assets/icons/cart.png","alt","",2,"width","50px","height","50px"],[1,"space-between"],[1,"food-card_price"],[1,"food-card_order-count"],[1,"input-group","mb-3"],[1,"input-group-prepend"],["type","button","id","button-addon1",1,"btn","btn-outline-secondary","minus-btn",3,"click"],[1,"fa","fa-minus"],["type","text","formControlName","quantity","placeholder","","aria-label","Example text with button addon","aria-describedby","button-addon1","value","0",1,"form-control","input-manulator"],[1,"input-group-append"],["type","button","id","button-addon1",1,"btn","btn-outline-secondary","add-btn",3,"click"],[1,"fa","fa-plus"],[3,"label"]],template:function(o,n){1&o&&(t.TgZ(0,"div",0)(1,"mat-card",1)(2,"mat-card-content")(3,"section",2)(4,"div",3)(5,"h1",4),t._uU(6,"S\u1ea2N PH\u1ea8M"),t.qZA(),t._UZ(7,"br"),t.TgZ(8,"mat-tab-group",5,6),t.NdJ("selectedTabChange",function(i){return n.onTabClick(i)}),t.TgZ(10,"mat-tab",7)(11,"form",8),t.ynx(12,9),t.YNc(13,Z,31,6,"div",10),t.ALo(14,"paginate"),t.BQk(),t.TgZ(15,"div",11)(16,"pagination-controls",12),t.NdJ("pageChange",function(i){return n.renderPage(i)}),t.qZA()()()(),t.YNc(17,S,8,9,"ng-container",13),t.qZA()()()()()()),2&o&&(t.xp6(11),t.Q6J("formGroup",n.foodForm),t.xp6(2),t.Q6J("ngForOf",t.xi3(14,3,n.products,t.WLB(6,x,n.pagination,n.allFood))),t.xp6(4),t.Q6J("ngForOf",n.categories))},dependencies:[g.sg,s._Y,s.Fj,s.JJ,s.JL,s.sg,s.u,s.x0,s.CE,O.lW,m.uX,m.SP,b.a8,b.dn,p.LS,p._s],styles:['@import"https://fonts.googleapis.com/css?family=Roboto:300,400,500,700&display=swap";.gradient-custom[_ngcontent-%COMP%]{background:#6a11cb;background:linear-gradient(to right,#DE3163,rgb(37,117,252))}body[_ngcontent-%COMP%]{background:#f9f9f9;font-family:roboto,sans-serif}.main-content[_ngcontent-%COMP%]{padding-top:100px;padding-bottom:100px}a[_ngcontent-%COMP%]{text-decoration:none}.food-card[_ngcontent-%COMP%]{background:#fff;border-radius:5px;overflow:hidden;margin-bottom:30px;box-shadow:0 2px 10px #0000000f;transition:.1s}.food-card[_ngcontent-%COMP%]:hover{box-shadow:0 5px 20px #0000001a}.food-card[_ngcontent-%COMP%]   .food-card_img[_ngcontent-%COMP%]{display:block;position:relative}.food-card[_ngcontent-%COMP%]   .food-card_img[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:200px;object-fit:cover}.food-card[_ngcontent-%COMP%]   .food-card_img[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{position:absolute;top:20px;right:30px;color:#fff;font-size:25px;transition:all .1s}.food-card[_ngcontent-%COMP%]   .food-card_img[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]:hover{top:18px;right:28px;font-size:29px}.food-card[_ngcontent-%COMP%]   .food-card_content[_ngcontent-%COMP%]{padding:15px}.food-card[_ngcontent-%COMP%]   .food-card_content[_ngcontent-%COMP%]   .food-card_title-section[_ngcontent-%COMP%]{height:100px;overflow:hidden}.food-card[_ngcontent-%COMP%]   .food-card_content[_ngcontent-%COMP%]   .food-card_title-section[_ngcontent-%COMP%]   .food-card_title[_ngcontent-%COMP%]{font-size:24px;color:#333;font-weight:500;display:block;line-height:1.3;margin-bottom:8px;display:-webkit-box;-webkit-line-clamp:2;-webkit-box-orient:vertical;overflow:hidden;text-overflow:ellipsis}.food-card[_ngcontent-%COMP%]   .food-card_content[_ngcontent-%COMP%]   .food-card_title-section[_ngcontent-%COMP%]   .food-card_author[_ngcontent-%COMP%]{font-size:15px;display:block}.food-card[_ngcontent-%COMP%]   .food-card_content[_ngcontent-%COMP%]   .food-card_bottom-section[_ngcontent-%COMP%]   .space-between[_ngcontent-%COMP%]{display:flex;justify-content:space-between}.food-card[_ngcontent-%COMP%]   .food-card_content[_ngcontent-%COMP%]   .food-card_bottom-section[_ngcontent-%COMP%]   .food-card_subscribers[_ngcontent-%COMP%]{margin-left:17px}.food-card[_ngcontent-%COMP%]   .food-card_content[_ngcontent-%COMP%]   .food-card_bottom-section[_ngcontent-%COMP%]   .food-card_subscribers[_ngcontent-%COMP%]   img[_ngcontent-%COMP%], .food-card[_ngcontent-%COMP%]   .food-card_content[_ngcontent-%COMP%]   .food-card_bottom-section[_ngcontent-%COMP%]   .food-card_subscribers[_ngcontent-%COMP%]   .food-card_subscribers-count[_ngcontent-%COMP%]{height:45px;width:45px;border-radius:45px;border:3px solid #fff;margin-left:-17px;float:left;background:#f5f5f5}.food-card[_ngcontent-%COMP%]   .food-card_content[_ngcontent-%COMP%]   .food-card_bottom-section[_ngcontent-%COMP%]   .food-card_subscribers[_ngcontent-%COMP%]   .food-card_subscribers-count[_ngcontent-%COMP%]{position:relative}.food-card[_ngcontent-%COMP%]   .food-card_content[_ngcontent-%COMP%]   .food-card_bottom-section[_ngcontent-%COMP%]   .food-card_subscribers[_ngcontent-%COMP%]   .food-card_subscribers-count[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);font-size:13px}.food-card[_ngcontent-%COMP%]   .food-card_content[_ngcontent-%COMP%]   .food-card_bottom-section[_ngcontent-%COMP%]   .food-card_price[_ngcontent-%COMP%]{font-size:28px;font-weight:500;color:#f47a00}.food-card[_ngcontent-%COMP%]   .food-card_content[_ngcontent-%COMP%]   .food-card_bottom-section[_ngcontent-%COMP%]   .food-card_order-count[_ngcontent-%COMP%]{width:130px}.food-card[_ngcontent-%COMP%]   .food-card_content[_ngcontent-%COMP%]   .food-card_bottom-section[_ngcontent-%COMP%]   .food-card_order-count[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{background:#f5f5f5;border-color:#f5f5f5;box-shadow:none;text-align:center}.food-card[_ngcontent-%COMP%]   .food-card_content[_ngcontent-%COMP%]   .food-card_bottom-section[_ngcontent-%COMP%]   .food-card_order-count[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{border-color:#f5f5f5;border-width:3px;box-shadow:none}@media (min-width: 992px){.food-card--vertical[_ngcontent-%COMP%]{display:flex;position:relative;height:235px}.food-card--vertical[_ngcontent-%COMP%]   .food-card_img[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:200px;height:100%;object-fit:cover}}']}),e})()}]}];let F=(()=>{class e{}return e.\u0275fac=function(o){return new(o||e)},e.\u0275mod=t.oAB({type:e}),e.\u0275inj=t.cJS({providers:[s.sg],imports:[g.ez,u.Bz.forChild(A),_.d,C.JF,c.Rh,p.JX,u.Bz]}),e})()}}]);