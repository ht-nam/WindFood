"use strict";(self.webpackChunkwindfood_ver1=self.webpackChunkwindfood_ver1||[]).push([[967],{7820:(A,y,r)=>{r.d(y,{y:()=>g});var l=r(6286),i=r(2223),f=r(4755),C=r(1728);const h=function(t,d){return{"text-center":t,"text-start":d}},b=function(t,d){return{"button-content d-flex align-items-center justify-content-center":t,"d-flex align-items-center justify-content-end":d}};let g=(()=>{class t{constructor(c,m,_){this.defaults=c,this.dialogRef=m,this.dialog=_,this.title="Ch\xfa \xfd",this.subtitle="B\u1ea1n c\xf3 mu\u1ed1n ti\u1ebfp t\u1ee5c kh\xf4ng?",this.buttonConfirm="Ti\u1ebfp t\u1ee5c",this.buttonCancel="Hu\u1ef7 b\u1ecf",this.isDelete=!1}ngOnInit(){this.defaults?.title&&this.defaults?.subtitle&&(this.title=this.defaults?.title,this.subtitle=this.defaults?.subtitle),this.defaults?.buttonConfirm&&this.defaults?.buttonCancel&&(this.buttonConfirm=this.defaults?.buttonConfirm,this.buttonCancel=this.defaults?.buttonCancel),this.defaults?.isDelete&&(this.isDelete=this.defaults.isDelete)}onConfirm(){this.defaults.onConfirm(),this.dialog.closeAll()}onClose(){this.dialogRef.close()}}return t.\u0275fac=function(c){return new(c||t)(i.Y36(l.WI),i.Y36(l.so),i.Y36(l.uw))},t.\u0275cmp=i.Xpm({type:t,selectors:[["app-confirm-dialogg"]],decls:12,vars:16,consts:[[1,"container"],[1,"row"],[3,"ngClass"],["mat-raised-button","","color","primary",3,"click"],["mat-raised-button","",2,"color","#000",3,"click"]],template:function(c,m){1&c&&(i.TgZ(0,"div",0)(1,"div",1)(2,"div")(3,"h2",2),i._uU(4),i.qZA(),i.TgZ(5,"p",2),i._uU(6),i.qZA(),i.TgZ(7,"div",2)(8,"button",3),i.NdJ("click",function(){return m.onConfirm()}),i._uU(9),i.qZA(),i.TgZ(10,"button",4),i.NdJ("click",function(){return m.onClose()}),i._uU(11),i.qZA()()()()()),2&c&&(i.xp6(3),i.Q6J("ngClass",i.WLB(7,h,!m.isDelete,m.isDelete)),i.xp6(1),i.Oqu(m.title),i.xp6(1),i.Q6J("ngClass",i.WLB(10,h,!m.isDelete,m.isDelete)),i.xp6(1),i.Oqu(m.subtitle),i.xp6(1),i.Q6J("ngClass",i.WLB(13,b,!m.isDelete,m.isDelete)),i.xp6(2),i.Oqu(m.buttonConfirm),i.xp6(2),i.Oqu(m.buttonCancel))},dependencies:[f.mk,C.lW],styles:[".row[_ngcontent-%COMP%]{padding:10px}button[_ngcontent-%COMP%]{padding:5px 30px;border-radius:6px;margin-right:10px;color:#fff}.button-content[_ngcontent-%COMP%]{display:flex;overflow:hidden}"]}),t})()},1967:(A,y,r)=>{r.r(y),r.d(y,{EmployeesRoutingModule:()=>M});var l=r(9401),i=r(3144),f=r(4755),C=r(4333),h=r(2018),b=r(7820),g=r(6286),t=r(2223),d=r(2340);let c=(()=>{class n{constructor(e){this.httpClient=e,this.baseUrl=d.N.baseUrl+"api/persons"}getAllEmployeesPaging(e){return this.httpClient.post(this.baseUrl+"/paging",e,{responseType:"json"})}getAllEmployees(){return this.httpClient.get(this.baseUrl)}addOrEditEmployees(e){return this.httpClient.post(this.baseUrl,e,{responseType:"json"})}deleteEmployee(e){return this.httpClient.delete(this.baseUrl+`/${e}`)}}return n.\u0275fac=function(e){return new(e||n)(t.LFG(i.eN))},n.\u0275prov=t.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();var m=r(1728);function _(n,s){if(1&n&&t._UZ(0,"img",24),2&n){const e=t.oxw();t.Q6J("src",e.imageSrc,t.LSH)}}let T=(()=>{class n{constructor(e,o,a,u,p,Z){this.defaults=e,this.dialogRef=o,this.fb=a,this.dialog=u,this.toastrService=p,this.service=Z}ngOnInit(){this.initForm()}initForm(){this.form=this.fb.group({personId:null,name:null,phoneNumber:null,birthday:null,urlImg:null,role:null,username:null,password:null})}onSubmit(){this.dialog.open(b.y,{disableClose:!1,width:"400px",data:{employees:this.defaults.employees,isDelete:!1,onConfirm:()=>{let e=this.form?.getRawValue();e.urlImg=this.imageSrc,this.service.addOrEditEmployees(e).subscribe({next:o=>{o&&(this.toastrService.success("\u0110\xe3 th\xeam th\xe0nh c\xf4ng","Th\xf4ng b\xe1o",{positionClass:"toast-bottom-right"}),this.defaults.reloadTable())},error:o=>{this.toastrService.warning("Th\xeam th\u1ea5t b\u1ea1i","Th\xf4ng b\xe1o",{positionClass:"toast-bottom-right"})}})}}})}onClose(){this.dialogRef.close()}onFileChange(e){const o=new FileReader;if(e.target.files&&e.target.files.length){const[a]=e.target.files;o.readAsDataURL(a),o.onload=()=>{this.imageSrc=o.result}}}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(g.WI),t.Y36(g.so),t.Y36(l.QS),t.Y36(g.uw),t.Y36(h._W),t.Y36(c))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-add-employee-dialog"]],decls:51,vars:2,consts:[[1,"container"],[1,"mt-3"],[1,"row"],[3,"formGroup","ngSubmit"],[1,"form-group","row"],["for","name",1,"col-sm-5","col-form-label"],[1,"col-sm-7","form-input"],["type","text","formControlName","name",1,"form-control"],["for","price",1,"col-sm-5","col-form-label"],["type","text","formControlName","phoneNumber",1,"form-control"],["type","date","formControlName","birthday",1,"form-control"],["for","status",1,"col-sm-5","col-form-label"],["formControlName","role",1,"form-select"],["value","0"],["value","1"],["type","text","formControlName","username",1,"form-control"],["type","password","formControlName","password",1,"form-control"],["for","file",1,"col-sm-5","col-form-label"],["style","height: 70px; width:70px; background-size: cover;",3,"src",4,"ngIf"],["id","file","type","file","formControlName","urlImg",1,"form-control",3,"change"],[1,"row","mt-5","mb-5"],[1,"col-sm-12","d-flex","justify-content-end"],["color","primary","mat-raised-button","","type","submit",2,"margin-right","10px"],["mat-raised-button","","type","button",3,"click"],[2,"height","70px","width","70px","background-size","cover",3,"src"]],template:function(e,o){1&e&&(t.TgZ(0,"div",0)(1,"h2",1),t._uU(2,"Th\xeam m\u1edbi nh\xe2n vi\xean"),t.qZA(),t.TgZ(3,"mat-dialog-content",2)(4,"form",3),t.NdJ("ngSubmit",function(){return o.onSubmit()}),t.TgZ(5,"div",4)(6,"label",5),t._uU(7,"T\xean nh\xe2n vi\xean:"),t.qZA(),t.TgZ(8,"div",6),t._UZ(9,"input",7),t.qZA()(),t.TgZ(10,"div",4)(11,"label",8),t._uU(12,"S\u1ed1 \u0111i\u1ec7n tho\u1ea1i:"),t.qZA(),t.TgZ(13,"div",6),t._UZ(14,"input",9),t.qZA()(),t.TgZ(15,"div",4)(16,"label",8),t._uU(17,"Ng\xe0y sinh:"),t.qZA(),t.TgZ(18,"div",6),t._UZ(19,"input",10),t.qZA()(),t.TgZ(20,"div",4)(21,"label",11),t._uU(22,"Vai tr\xf2:"),t.qZA(),t.TgZ(23,"div",6)(24,"select",12)(25,"option",13),t._uU(26,"Admin"),t.qZA(),t.TgZ(27,"option",14),t._uU(28,"Nh\xe2n vi\xean"),t.qZA()()()(),t.TgZ(29,"div",4)(30,"label",5),t._uU(31,"T\xean \u0111\u0103ng nh\u1eadp:"),t.qZA(),t.TgZ(32,"div",6),t._UZ(33,"input",15),t.qZA()(),t.TgZ(34,"div",4)(35,"label",8),t._uU(36,"M\u1eadt kh\u1ea9u:"),t.qZA(),t.TgZ(37,"div",6),t._UZ(38,"input",16),t.qZA()(),t.TgZ(39,"div",4)(40,"label",17),t._uU(41,"File"),t.qZA(),t.TgZ(42,"div",6),t.YNc(43,_,1,1,"img",18),t.TgZ(44,"input",19),t.NdJ("change",function(u){return o.onFileChange(u)}),t.qZA()()(),t.TgZ(45,"div",20)(46,"div",21)(47,"button",22),t._uU(48,"Th\xeam"),t.qZA(),t.TgZ(49,"button",23),t.NdJ("click",function(){return o.onClose()}),t._uU(50,"\u0110\xf3ng"),t.qZA()()()()()()),2&e&&(t.xp6(4),t.Q6J("formGroup",o.form),t.xp6(39),t.Q6J("ngIf",o.imageSrc))},dependencies:[f.O5,l._Y,l.YN,l.Kr,l.Fj,l.EJ,l.JJ,l.JL,l.sg,l.u,m.lW,g.xY],styles:["h2[_ngcontent-%COMP%]{margin-left:30px}form[_ngcontent-%COMP%]{width:50vw}form[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{margin-left:30px}form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]{margin-top:30px}.form-input[_ngcontent-%COMP%]{width:400px}"]}),n})();function x(n,s){if(1&n&&t._UZ(0,"img",25),2&n){const e=t.oxw();t.Q6J("src",e.imageSrc,t.LSH)}}let v=(()=>{class n{constructor(e,o,a,u,p,Z){this.defaults=e,this.dialogRef=o,this.fb=a,this.dialog=u,this.toastrService=p,this.service=Z}ngOnInit(){this.employee=this.defaults.employee,this.initForm()}get f(){return this.form?.controls}initForm(){this.form=this.fb.group({personId:null,name:null,phoneNumber:null,birthday:null,urlImg:null,role:null,username:null,password:null}),this.imageSrc=this.employee?.urlImg;let e={personId:this.employee?.personId,name:this.employee?.name,phoneNumber:this.employee?.phoneNumber,birthday:this.employee?.birthday,urlImg:"",role:this.employee?.role,username:this.employee?.username,password:this.employee?.password};this.form?.setValue(e)}onSubmit(){this.dialog.open(b.y,{disableClose:!1,width:"400px",data:{products:this.defaults.products,isDelete:!1,onConfirm:()=>{let e=this.form?.getRawValue();e.urlImg=this.imageSrc,this.service.addOrEditEmployees(e).subscribe({next:o=>{o&&(this.toastrService.success("\u0110\xe3 th\xeam th\xe0nh c\xf4ng","Th\xf4ng b\xe1o",{positionClass:"toast-bottom-right"}),this.defaults.reloadTable())},error:o=>{this.toastrService.warning("Th\xeam th\u1ea5t b\u1ea1i","Th\xf4ng b\xe1o",{positionClass:"toast-bottom-right"})}})}}})}onClose(){this.dialogRef.close()}onFileChange(e){const o=new FileReader;if(e.target.files&&e.target.files.length){const[a]=e.target.files;o.readAsDataURL(a),o.onload=()=>{this.imageSrc=o.result}}}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(g.WI),t.Y36(g.so),t.Y36(l.QS),t.Y36(g.uw),t.Y36(h._W),t.Y36(c))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-edit-employee-dialog"]],decls:52,vars:2,consts:[[1,"container"],[1,"mt-3"],[1,"row"],[3,"formGroup","ngSubmit"],[1,"form-group","row"],["for","name",1,"col-sm-5","col-form-label"],[1,"col-sm-7","form-input"],["type","text","formControlName","name",1,"form-control"],["for","price",1,"col-sm-5","col-form-label"],["type","text","formControlName","phoneNumber",1,"form-control"],["type","date","formControlName","birthday",1,"form-control"],["for","status",1,"col-sm-5","col-form-label"],["formControlName","role",1,"form-select"],["selected",""],["value","0"],["value","1"],["type","text","formControlName","username",1,"form-control"],["type","password","formControlName","password",1,"form-control"],["for","file",1,"col-sm-5","col-form-label"],["style","height: 70px; width:70px; background-size: cover;",3,"src",4,"ngIf"],["id","file","type","file","formControlName","urlImg",1,"form-control",3,"change"],[1,"row","mt-5","mb-5"],[1,"col-sm-12","d-flex","justify-content-end"],["color","primary","mat-raised-button","","type","submit",2,"margin-right","10px"],["mat-raised-button","","type","button",3,"click"],[2,"height","70px","width","70px","background-size","cover",3,"src"]],template:function(e,o){1&e&&(t.TgZ(0,"div",0)(1,"h2",1),t._uU(2,"S\u1eeda th\xf4ng tin nh\xe2n vi\xean"),t.qZA(),t.TgZ(3,"div",2)(4,"form",3),t.NdJ("ngSubmit",function(){return o.onSubmit()}),t.TgZ(5,"div",4)(6,"label",5),t._uU(7,"T\xean nh\xe2n vi\xean:"),t.qZA(),t.TgZ(8,"div",6),t._UZ(9,"input",7),t.qZA()(),t.TgZ(10,"div",4)(11,"label",8),t._uU(12,"S\u1ed1 \u0111i\u1ec7n tho\u1ea1i:"),t.qZA(),t.TgZ(13,"div",6),t._UZ(14,"input",9),t.qZA()(),t.TgZ(15,"div",4)(16,"label",8),t._uU(17,"Ng\xe0y sinh:"),t.qZA(),t.TgZ(18,"div",6),t._UZ(19,"input",10),t.qZA()(),t.TgZ(20,"div",4)(21,"label",11),t._uU(22,"Vai tr\xf2:"),t.qZA(),t.TgZ(23,"div",6)(24,"select",12),t._UZ(25,"option",13),t.TgZ(26,"option",14),t._uU(27,"Admin"),t.qZA(),t.TgZ(28,"option",15),t._uU(29,"Nh\xe2n vi\xean"),t.qZA()()()(),t.TgZ(30,"div",4)(31,"label",5),t._uU(32,"T\xean \u0111\u0103ng nh\u1eadp:"),t.qZA(),t.TgZ(33,"div",6),t._UZ(34,"input",16),t.qZA()(),t.TgZ(35,"div",4)(36,"label",8),t._uU(37,"M\u1eadt kh\u1ea9u:"),t.qZA(),t.TgZ(38,"div",6),t._UZ(39,"input",17),t.qZA()(),t.TgZ(40,"div",4)(41,"label",18),t._uU(42,"File"),t.qZA(),t.TgZ(43,"div",6),t.YNc(44,x,1,1,"img",19),t.TgZ(45,"input",20),t.NdJ("change",function(u){return o.onFileChange(u)}),t.qZA()()(),t.TgZ(46,"div",21)(47,"div",22)(48,"button",23),t._uU(49,"Th\xeam"),t.qZA(),t.TgZ(50,"button",24),t.NdJ("click",function(){return o.onClose()}),t._uU(51,"\u0110\xf3ng"),t.qZA()()()()()()),2&e&&(t.xp6(4),t.Q6J("formGroup",o.form),t.xp6(40),t.Q6J("ngIf",o.imageSrc))},dependencies:[f.O5,l._Y,l.YN,l.Kr,l.Fj,l.EJ,l.JJ,l.JL,l.sg,l.u,m.lW],styles:["h2[_ngcontent-%COMP%]{margin-left:30px}form[_ngcontent-%COMP%]{width:50vw}form[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{margin-left:30px}form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]{margin-top:30px}.form-input[_ngcontent-%COMP%]{width:400px}"]}),n})();var U=r(346),E=r(2480),D=r(430);function O(n,s){if(1&n){const e=t.EpF();t.ynx(0),t.TgZ(1,"tr",10)(2,"td"),t._uU(3),t.qZA(),t.TgZ(4,"td"),t._uU(5),t.qZA(),t.TgZ(6,"td"),t._uU(7),t.qZA(),t.TgZ(8,"td"),t._uU(9),t.qZA(),t.TgZ(10,"td"),t._UZ(11,"img",11),t.qZA(),t.TgZ(12,"td")(13,"button",12),t.NdJ("click",function(){const u=t.CHM(e).$implicit,p=t.oxw();return t.KtG(p.editProduct(u))}),t.TgZ(14,"mat-icon"),t._uU(15,"create"),t.qZA(),t._uU(16,"S\u1eeda"),t.qZA(),t.TgZ(17,"button",13),t.NdJ("click",function(){const u=t.CHM(e).$implicit,p=t.oxw();return t.KtG(p.handleDelete(null==u?null:u.personId))}),t.TgZ(18,"mat-icon"),t._uU(19,"delete"),t.qZA(),t._uU(20,"Xo\xe1"),t.qZA()()(),t.BQk()}if(2&n){const e=s.$implicit,o=s.index;t.xp6(1),t.s9C("id",o),t.xp6(2),t.Oqu(null==e?null:e.personId),t.xp6(2),t.Oqu(null==e?null:e.name),t.xp6(2),t.Oqu(null==e?null:e.phoneNumber),t.xp6(2),t.Oqu(null==e?null:e.birthday),t.xp6(2),t.s9C("src",null==e?null:e.urlImg,t.LSH)}}const N=function(n,s){return{itemsPerPage:6,currentPage:n,totalItems:s}};let w=(()=>{class n{constructor(e,o,a,u,p,Z){this.loader=e,this.fb=o,this.dialog=a,this.toastrService=u,this.router=p,this.service=Z,this.allFood=0,this.pagination=1}ngOnInit(){this.initForm(),this.getAllEmployees()}initForm(){this.form=this.fb.group({pageIndex:1,pageSize:6})}get f(){return this.form?.controls}addNewEmployee(){this.dialog.open(T,{height:"auto",data:{employees:this.employees,title:"Th\xeam m\u1edbi nh\xe2n vi\xean",reloadTable:()=>this.getAllEmployees()}})}getAllEmployees(){this.loader.show(),this.service.getAllEmployeesPaging(this.form?.value).subscribe(e=>{this.pagination=this.form?.get("pageIndex")?.value,this.employees=e?.data,this.allFood=e?.count}),this.loader.hide()}renderPage(e){this.form?.get("pageIndex")?.setValue(e),this.getAllEmployees()}editProduct(e){this.dialog.open(v,{height:"auto",data:{employee:e,title:"S\u1eeda th\xf4ng tin nh\xe2n vi\xean",reloadTable:()=>this.getAllEmployees()}})}handleDelete(e){this.dialog.open(b.y,{disableClose:!1,width:"400px",height:"auto",data:{title:"Xo\xe1 nh\xe2n vi\xean",subtitle:"B\u1ea1n c\xf3 mu\u1ed1n xo\xe1 nh\xe2n vi\xean n\xe0y kh\xf4ng",buttonConfirm:"Xo\xe1",buttonCancel:"\u0110\xf3ng",isDelete:!0,onConfirm:()=>{this.service.deleteEmployee(e).subscribe({next:o=>{},error:o=>{this.toastrService.warning("Xo\xe1 th\u1ea5t b\u1ea1i","Th\xf4ng b\xe1o",{positionClass:"toast-bottom-right"}),console.log(o)},complete:()=>{this.toastrService.success("Xo\xe1 th\xe0nh c\xf4ng","Th\xf4ng b\xe1o",{positionClass:"toast-bottom-right"}),this.getAllEmployees()}})}}})}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(U.t2),t.Y36(l.QS),t.Y36(g.uw),t.Y36(h._W),t.Y36(E.F0),t.Y36(c))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-employees"]],decls:29,vars:8,consts:[[1,"container","mt-5",3,"formGroup"],[1,"card"],[1,"row","m-2"],[1,"search-case"],["type","button","mat-raised-button","","color","accent",1,"col-md-2",3,"click"],[1,"col-md-12"],[1,"table-container"],[4,"ngFor","ngForOf"],[1,"d-flex","justify-content-center"],[3,"pageChange"],[3,"id"],["alt","",2,"width","50px","height","50px","object-fit","cover","background-size","cover",3,"src"],["color","primary","mat-raised-button","",2,"margin-right","10px",3,"click"],["color","warn","mat-raised-button","",3,"click"]],template:function(e,o){1&e&&(t.TgZ(0,"form",0)(1,"div",1)(2,"div",2)(3,"h2"),t._uU(4,"NH\xc2N VI\xcaN"),t.qZA(),t.TgZ(5,"div",3)(6,"button",4),t.NdJ("click",function(){return o.addNewEmployee()}),t._uU(7,"Th\xeam m\u1edbi"),t.qZA()()(),t.TgZ(8,"div",2)(9,"div",5)(10,"table",6)(11,"thead")(12,"tr")(13,"th"),t._uU(14," ID "),t.qZA(),t.TgZ(15,"th"),t._uU(16," T\xean nh\xe2n vi\xean "),t.qZA(),t.TgZ(17,"th"),t._uU(18," S\u1ed1 \u0111i\u1ec7n tho\u1ea1i "),t.qZA(),t.TgZ(19,"th"),t._uU(20," Ng\xe0y sinh "),t.qZA(),t.TgZ(21,"th"),t._uU(22," \u1ea2nh "),t.qZA(),t._UZ(23,"th"),t.qZA()(),t.TgZ(24,"tbody"),t.YNc(25,O,21,6,"ng-container",7),t.ALo(26,"paginate"),t.qZA()()()(),t.TgZ(27,"div",8)(28,"pagination-controls",9),t.NdJ("pageChange",function(u){return o.renderPage(u)}),t.qZA()()()()),2&e&&(t.Q6J("formGroup",o.form),t.xp6(25),t.Q6J("ngForOf",t.xi3(26,2,o.employees,t.WLB(5,N,o.pagination,o.allFood))))},dependencies:[f.sg,l._Y,l.JL,l.sg,m.lW,D.Hw,C.LS,C._s],styles:["button[_ngcontent-%COMP%]{margin-bottom:20px}.search-case[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between}.search-case[_ngcontent-%COMP%]   .form-field[_ngcontent-%COMP%]{display:flex;align-items:center}.search-case[_ngcontent-%COMP%]   .form-field[_ngcontent-%COMP%]   mat-form-field[_ngcontent-%COMP%]{width:400px;margin-right:10px}.table-container[_ngcontent-%COMP%]{width:100%;height:100%}.table-container[_ngcontent-%COMP%]   th[_ngcontent-%COMP%], .table-container[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{padding:15px 3px;border:1px solid #DBDBDB;white-space:nowrap;text-align:center}.table-container[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{background-color:#fff;color:#000}"]}),n})();var q=r(2399);const P=[{path:"",children:[{path:"",component:w},{path:"edit/:id",component:v}]}];let M=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=t.oAB({type:n}),n.\u0275inj=t.cJS({providers:[l.sg],imports:[f.ez,E.Bz.forChild(P),q.d,i.JF,h.Rh,C.JX,E.Bz]}),n})()}}]);