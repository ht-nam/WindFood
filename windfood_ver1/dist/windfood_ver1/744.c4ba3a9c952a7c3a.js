"use strict";(self.webpackChunkwindfood_ver1=self.webpackChunkwindfood_ver1||[]).push([[744],{7820:(v,C,i)=>{i.d(C,{y:()=>o});var _=i(6286),e=i(2223),t=i(4755),g=i(1728);const a=function(r,h){return{"text-center":r,"text-start":h}},b=function(r,h){return{"button-content d-flex align-items-center justify-content-center":r,"d-flex align-items-center justify-content-end":h}};let o=(()=>{class r{constructor(f,c,A){this.defaults=f,this.dialogRef=c,this.dialog=A,this.title="Ch\xfa \xfd",this.subtitle="B\u1ea1n c\xf3 mu\u1ed1n ti\u1ebfp t\u1ee5c kh\xf4ng?",this.buttonConfirm="Ti\u1ebfp t\u1ee5c",this.buttonCancel="Hu\u1ef7 b\u1ecf",this.isDelete=!1}ngOnInit(){this.defaults?.title&&this.defaults?.subtitle&&(this.title=this.defaults?.title,this.subtitle=this.defaults?.subtitle),this.defaults?.buttonConfirm&&this.defaults?.buttonCancel&&(this.buttonConfirm=this.defaults?.buttonConfirm,this.buttonCancel=this.defaults?.buttonCancel),this.defaults?.isDelete&&(this.isDelete=this.defaults.isDelete)}onConfirm(){this.defaults.onConfirm(),this.dialog.closeAll()}onClose(){this.dialogRef.close()}}return r.\u0275fac=function(f){return new(f||r)(e.Y36(_.WI),e.Y36(_.so),e.Y36(_.uw))},r.\u0275cmp=e.Xpm({type:r,selectors:[["app-confirm-dialogg"]],decls:12,vars:16,consts:[[1,"container"],[1,"row"],[3,"ngClass"],["mat-raised-button","","color","primary",3,"click"],["mat-raised-button","",2,"color","#000",3,"click"]],template:function(f,c){1&f&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div")(3,"h2",2),e._uU(4),e.qZA(),e.TgZ(5,"p",2),e._uU(6),e.qZA(),e.TgZ(7,"div",2)(8,"button",3),e.NdJ("click",function(){return c.onConfirm()}),e._uU(9),e.qZA(),e.TgZ(10,"button",4),e.NdJ("click",function(){return c.onClose()}),e._uU(11),e.qZA()()()()()),2&f&&(e.xp6(3),e.Q6J("ngClass",e.WLB(7,a,!c.isDelete,c.isDelete)),e.xp6(1),e.Oqu(c.title),e.xp6(1),e.Q6J("ngClass",e.WLB(10,a,!c.isDelete,c.isDelete)),e.xp6(1),e.Oqu(c.subtitle),e.xp6(1),e.Q6J("ngClass",e.WLB(13,b,!c.isDelete,c.isDelete)),e.xp6(2),e.Oqu(c.buttonConfirm),e.xp6(2),e.Oqu(c.buttonCancel))},dependencies:[t.mk,g.lW],styles:[".row[_ngcontent-%COMP%]{padding:10px}button[_ngcontent-%COMP%]{padding:5px 30px;border-radius:6px;margin-right:10px;color:#fff}.button-content[_ngcontent-%COMP%]{display:flex;overflow:hidden}"]}),r})()},8909:(v,C,i)=>{i.d(C,{Z:()=>O});var _=i(6286),e=i(7820),t=i(2223),g=i(9401),a=i(2018),b=i(2246),o=i(4755),r=i(1728),h=i(8097);function f(s,d){if(1&s&&t._UZ(0,"img",22),2&s){const n=t.oxw();t.Q6J("src",n.imageSrc,t.LSH)}}const c=function(){return{standalone:!0}};function A(s,d){if(1&s){const n=t.EpF();t.ynx(0),t.TgZ(1,"tr",26)(2,"td")(3,"input",27),t.NdJ("ngModelChange",function(u){const p=t.CHM(n).$implicit,T=t.oxw(2);return t.KtG(T.selection[null==p?null:p.providerId]=u)})("change",function(){const m=t.CHM(n).$implicit,p=t.oxw(2);return t.KtG(p.onSelect(m))}),t.qZA()(),t.TgZ(4,"td"),t._uU(5),t.qZA(),t.TgZ(6,"td"),t._uU(7),t.qZA()(),t.BQk()}if(2&s){const n=d.$implicit,l=d.index,u=t.oxw(2);t.xp6(1),t.s9C("id",l),t.xp6(2),t.Q6J("value",n)("ngModel",u.selection[null==n?null:n.providerId])("ngModelOptions",t.DdM(6,c)),t.xp6(2),t.Oqu(null==n?null:n.providerId),t.xp6(2),t.Oqu(null==n?null:n.providerName)}}function E(s,d){if(1&s&&(t.TgZ(0,"div",4)(1,"div",23)(2,"table")(3,"thead")(4,"tr"),t._UZ(5,"th",24),t.TgZ(6,"th"),t._uU(7," ID "),t.qZA(),t.TgZ(8,"th"),t._uU(9," T\xean nh\xe0 cung c\u1ea5p "),t.qZA()()(),t.TgZ(10,"tbody"),t.YNc(11,A,8,7,"ng-container",25),t.qZA()()()()),2&s){const n=t.oxw();t.xp6(11),t.Q6J("ngForOf",n.suppliers)}}function P(s,d){if(1&s){const n=t.EpF();t.ynx(0),t.TgZ(1,"tr",26)(2,"td")(3,"input",27),t.NdJ("ngModelChange",function(u){const p=t.CHM(n).$implicit,T=t.oxw(2);return t.KtG(T.selectionCategory[null==p?null:p.categoryId]=u)})("change",function(){const m=t.CHM(n).$implicit,p=t.oxw(2);return t.KtG(p.onSelectCategory(m))}),t.qZA()(),t.TgZ(4,"td"),t._uU(5),t.qZA(),t.TgZ(6,"td"),t._uU(7),t.qZA()(),t.BQk()}if(2&s){const n=d.$implicit,l=d.index,u=t.oxw(2);t.xp6(1),t.s9C("id",l),t.xp6(2),t.Q6J("value",n)("ngModel",u.selectionCategory[null==n?null:n.categoryId])("ngModelOptions",t.DdM(6,c)),t.xp6(2),t.Oqu(null==n?null:n.categoryId),t.xp6(2),t.Oqu(null==n?null:n.categoryName)}}function D(s,d){if(1&s&&(t.TgZ(0,"div",4)(1,"div",23)(2,"table")(3,"thead")(4,"tr"),t._UZ(5,"th",24),t.TgZ(6,"th"),t._uU(7," ID "),t.qZA(),t.TgZ(8,"th"),t._uU(9," T\xean Ph\xe2n lo\u1ea1i "),t.qZA()()(),t.TgZ(10,"tbody"),t.YNc(11,P,8,7,"ng-container",25),t.qZA()()()()),2&s){const n=t.oxw();t.xp6(11),t.Q6J("ngForOf",n.categories)}}let O=(()=>{class s{constructor(n,l,u,m,p,T){this.defaults=n,this.dialogRef=l,this.fb=u,this.dialog=m,this.toastrService=p,this.service=T,this.isShowingTable=!1,this.isShowingCategory=!1,this.selection={},this.selectionCategory={}}ngOnInit(){this.initForm(),this.getAllCategories(),this.suppliers=this.defaults.suppliers}getAllCategories(){this.service.getAllCategories().subscribe(n=>{this.categories=n})}initForm(){this.form=this.fb.group({foodId:null,foodName:null,price:null,quantity:null,urlImg:null,description:null,createDate:null,importPrice:null,provider:null,category:null})}showTable(){this.isShowingTable=!this.isShowingTable}showCategory(){this.isShowingCategory=!this.isShowingCategory}onSelect(n){this.selection=n,this.selection&&(this.isShowingTable=!1)}onSelectCategory(n){this.selectionCategory=n,this.selectionCategory&&(this.isShowingCategory=!1)}onSubmit(){this.dialog.open(e.y,{disableClose:!1,width:"400px",data:{products:this.defaults.products,isDelete:!1,onConfirm:()=>{let n=this.form?.getRawValue();n.urlImg=this.imageSrc,n.provider=this.selection,n.category=this.selectionCategory,console.log(n),this.service.addOrEditFood(n).subscribe({next:l=>{l&&(this.toastrService.success("\u0110\xe3 th\xeam th\xe0nh c\xf4ng","Th\xf4ng b\xe1o",{positionClass:"toast-bottom-right"}),this.defaults.reloadTable())},error:l=>{this.toastrService.warning("Th\xeam th\u1ea5t b\u1ea1i","Th\xf4ng b\xe1o",{positionClass:"toast-bottom-right"})}})}}})}onClose(){this.dialogRef.close()}onFileChange(n){const l=new FileReader;if(n.target.files&&n.target.files.length){const[u]=n.target.files;l.readAsDataURL(u),l.onload=()=>{this.imageSrc=l.result}}}}return s.\u0275fac=function(n){return new(n||s)(t.Y36(_.WI),t.Y36(_.so),t.Y36(g.QS),t.Y36(_.uw),t.Y36(a._W),t.Y36(b.s))},s.\u0275cmp=t.Xpm({type:s,selectors:[["app-add-product-dialog"]],decls:56,vars:4,consts:[[1,"container"],[1,"mt-3"],[1,"row"],[3,"formGroup","ngSubmit"],[1,"form-group","row"],["for","name",1,"col-sm-5","col-form-label"],[1,"col-sm-7","form-input"],["type","text","formControlName","foodName",1,"form-control"],["for","price",1,"col-sm-5","col-form-label"],["type","text","formControlName","importPrice",1,"form-control"],["type","text","formControlName","price",1,"form-control"],["for","quantity",1,"col-sm-5","col-form-label"],["type","number","matInput","","name","value","formControlName","quantity",1,"form-control"],["type","text","formControlName","description",1,"form-control"],["for","file",1,"col-sm-5","col-form-label"],["style","height: 70px; width:70px; background-size: cover;",3,"src",4,"ngIf"],["id","file","type","file","formControlName","urlImg",1,"form-control",3,"change"],["mat-raised-button","","type","button",3,"click"],["class","form-group row",4,"ngIf"],[1,"row","mt-5","mb-5"],[1,"col-sm-12","d-flex","justify-content-end"],["color","primary","mat-raised-button","","type","submit",2,"margin-right","10px"],[2,"height","70px","width","70px","background-size","cover",3,"src"],[1,"table-container","col-md-12","col-lg-12","mt-3"],[2,"width","50px"],[4,"ngFor","ngForOf"],[3,"id"],["type","radio",3,"value","ngModel","ngModelOptions","ngModelChange","change"]],template:function(n,l){1&n&&(t.TgZ(0,"div",0)(1,"h2",1),t._uU(2,"T\u1ea1o m\u1edbi s\u1ea3n ph\u1ea9m"),t.qZA(),t.TgZ(3,"mat-dialog-content",2)(4,"form",3),t.NdJ("ngSubmit",function(){return l.onSubmit()}),t.TgZ(5,"div",4)(6,"label",5),t._uU(7,"T\xean s\u1ea3n ph\u1ea9m:"),t.qZA(),t.TgZ(8,"div",6),t._UZ(9,"input",7),t.qZA()(),t.TgZ(10,"div",4)(11,"label",8),t._uU(12,"Gi\xe1 nh\u1eadp"),t.qZA(),t.TgZ(13,"div",6),t._UZ(14,"input",9),t.qZA()(),t.TgZ(15,"div",4)(16,"label",8),t._uU(17,"Gi\xe1 b\xe1n"),t.qZA(),t.TgZ(18,"div",6),t._UZ(19,"input",10),t.qZA()(),t.TgZ(20,"div",4)(21,"label",11),t._uU(22,"Nh\u1eadp s\u1ed1 l\u01b0\u1ee3ng"),t.qZA(),t.TgZ(23,"div",6),t._UZ(24,"input",12),t.qZA()(),t.TgZ(25,"div",4)(26,"label",5),t._uU(27,"M\xf4 t\u1ea3:"),t.qZA(),t.TgZ(28,"div",6),t._UZ(29,"input",13),t.qZA()(),t.TgZ(30,"div",4)(31,"label",14),t._uU(32,"File"),t.qZA(),t.TgZ(33,"div",6),t.YNc(34,f,1,1,"img",15),t.TgZ(35,"input",16),t.NdJ("change",function(m){return l.onFileChange(m)}),t.qZA()()(),t.TgZ(36,"div",4)(37,"label",5),t._uU(38,"Nh\xe0 cung c\u1ea5p:"),t.qZA(),t.TgZ(39,"div",6)(40,"button",17),t.NdJ("click",function(){return l.showTable()}),t._uU(41,"Ch\u1ecdn nh\xe0 cung c\u1ea5p"),t.qZA()()(),t.YNc(42,E,12,1,"div",18),t.TgZ(43,"div",4)(44,"label",5),t._uU(45,"Ph\xe2n lo\u1ea1i:"),t.qZA(),t.TgZ(46,"div",6)(47,"button",17),t.NdJ("click",function(){return l.showCategory()}),t._uU(48,"Ch\u1ecdn ph\xe2n lo\u1ea1i"),t.qZA()()(),t.YNc(49,D,12,1,"div",18),t.TgZ(50,"div",19)(51,"div",20)(52,"button",21),t._uU(53,"Th\xeam"),t.qZA(),t.TgZ(54,"button",17),t.NdJ("click",function(){return l.onClose()}),t._uU(55,"\u0110\xf3ng"),t.qZA()()()()()()),2&n&&(t.xp6(4),t.Q6J("formGroup",l.form),t.xp6(30),t.Q6J("ngIf",l.imageSrc),t.xp6(8),t.Q6J("ngIf",l.isShowingTable),t.xp6(7),t.Q6J("ngIf",l.isShowingCategory))},dependencies:[o.sg,o.O5,g._Y,g.Fj,g.wV,g._,g.JJ,g.JL,g.On,g.sg,g.u,r.lW,_.xY,h.Nt],styles:["h2[_ngcontent-%COMP%]{margin-left:30px}form[_ngcontent-%COMP%]{width:50vw}form[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{margin-left:30px}form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]{margin-top:30px}.form-input[_ngcontent-%COMP%]{width:400px}.table-container[_ngcontent-%COMP%]{width:100%;height:300px;overflow:auto}.table-container[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]{width:100%}.table-container[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]{position:sticky;top:0}.table-container[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%], .table-container[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{padding:15px 3px;border:1px solid #DBDBDB;white-space:nowrap;text-align:center}.table-container[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{background-color:#fff;color:#000}"]}),s})()},2246:(v,C,i)=>{i.d(C,{s:()=>g});var _=i(2340),e=i(2223),t=i(3144);let g=(()=>{class a{constructor(o){this.httpClient=o,this.baseUrl=_.N.baseUrl+"api/foods",this.categoryUrl=_.N.baseUrl+"api/categories"}getAllProductsPaging(o){return this.httpClient.post(this.baseUrl+"/paging",o,{responseType:"json"})}getAllProducts(){return this.httpClient.get(this.baseUrl)}addOrEditFood(o){return this.httpClient.post(this.baseUrl,o,{responseType:"json"})}deleteFood(o){return this.httpClient.delete(this.baseUrl+`/${o}`)}getAllCategories(){return this.httpClient.get(this.categoryUrl)}getByCategory(){return this.httpClient.get(this.baseUrl+"/by-category")}}return a.\u0275fac=function(o){return new(o||a)(e.LFG(t.eN))},a.\u0275prov=e.Yz7({token:a,factory:a.\u0275fac,providedIn:"root"}),a})()},5389:(v,C,i)=>{i.d(C,{R:()=>g});var _=i(2340),e=i(2223),t=i(3144);let g=(()=>{class a{constructor(o){this.httpClient=o,this.baseUrl=_.N.baseUrl+"api/providers"}getAllSuppliersPaging(o){return this.httpClient.post(this.baseUrl+"/paging",o,{responseType:"json"})}getAllSuppliers(){return this.httpClient.get(this.baseUrl)}addOrEditSupplier(o){return this.httpClient.post(this.baseUrl,o,{responseType:"json"})}deleteSupplier(o){return this.httpClient.delete(this.baseUrl+`/${o}`)}}return a.\u0275fac=function(o){return new(o||a)(e.LFG(t.eN))},a.\u0275prov=e.Yz7({token:a,factory:a.\u0275fac,providedIn:"root"}),a})()}}]);