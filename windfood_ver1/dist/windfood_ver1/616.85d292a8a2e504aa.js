"use strict";(self.webpackChunkwindfood_ver1=self.webpackChunkwindfood_ver1||[]).push([[616],{5616:(E,h,i)=>{i.r(h),i.d(h,{SuppliersRoutingModule:()=>y});var c=i(2480),S=i(2399),r=i(9401),A=i(3144),f=i(4755),d=i(4333),g=i(2018),C=i(7820),u=i(6286),T=i(8909),t=i(2223),v=i(5389),b=i(1728);let Z=(()=>{class e{constructor(n,o,a,l,p,m){this.defaults=n,this.dialogRef=o,this.fb=a,this.dialog=l,this.toastrService=p,this.service=m}ngOnInit(){this.initForm(),console.log(this.defaults.products)}initForm(){this.form=this.fb.group({providerId:null,providerName:null,foods:null})}onSubmit(){this.dialog.open(C.y,{disableClose:!1,width:"400px",data:{products:this.defaults.products,isDelete:!1,onConfirm:()=>{let n=this.form?.getRawValue();this.service.addOrEditSupplier(n).subscribe({next:o=>{o&&(this.toastrService.success("\u0110\xe3 th\xeam th\xe0nh c\xf4ng","Th\xf4ng b\xe1o",{positionClass:"toast-bottom-right"}),this.defaults.reloadTable())},error:o=>{this.toastrService.warning("Th\xeam th\u1ea5t b\u1ea1i","Th\xf4ng b\xe1o",{positionClass:"toast-bottom-right"})}})}}})}addNewProduct(){this.dialog.open(T.Z,{height:"auto",data:{title:"T\u1ea1o m\u1edbi s\u1ea3n ph\u1ea9m c\u1ee7a nh\xe0 cung c\u1ea5p"}})}onClose(){this.dialogRef.close()}}return e.\u0275fac=function(n){return new(n||e)(t.Y36(u.WI),t.Y36(u.so),t.Y36(r.QS),t.Y36(u.uw),t.Y36(g._W),t.Y36(v.R))},e.\u0275cmp=t.Xpm({type:e,selectors:[["app-add-supplier-dialog"]],decls:16,vars:1,consts:[[1,"container"],[1,"mt-3"],[1,"row"],[3,"formGroup","ngSubmit"],[1,"form-group","row"],["for","name",1,"col-sm-5","col-form-label"],[1,"col-sm-7","form-input"],["type","text","formControlName","providerName",1,"form-control"],[1,"row","mt-5","mb-5"],[1,"col-sm-12","d-flex","justify-content-end"],["color","primary","mat-raised-button","","type","submit",2,"margin-right","10px"],["mat-raised-button","","type","button",3,"click"]],template:function(n,o){1&n&&(t.TgZ(0,"div",0)(1,"h2",1),t._uU(2,"Th\xeam m\u1edbi nh\xe0 cung c\u1ea5p"),t.qZA(),t.TgZ(3,"div",2)(4,"form",3),t.NdJ("ngSubmit",function(){return o.onSubmit()}),t.TgZ(5,"div",4)(6,"label",5),t._uU(7,"T\xean nh\xe0 cung c\u1ea5p:"),t.qZA(),t.TgZ(8,"div",6),t._UZ(9,"input",7),t.qZA()(),t.TgZ(10,"div",8)(11,"div",9)(12,"button",10),t._uU(13,"Th\xeam"),t.qZA(),t.TgZ(14,"button",11),t.NdJ("click",function(){return o.onClose()}),t._uU(15,"\u0110\xf3ng"),t.qZA()()()()()()),2&n&&(t.xp6(4),t.Q6J("formGroup",o.form))},dependencies:[r._Y,r.Fj,r.JJ,r.JL,r.sg,r.u,b.lW],styles:["h2[_ngcontent-%COMP%]{margin-left:30px}form[_ngcontent-%COMP%]{width:50vw}form[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{margin-left:30px}form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]{margin-top:30px}.form-input[_ngcontent-%COMP%]{width:400px}"]}),e})();var x=i(346),P=i(430);function O(e,s){if(1&e){const n=t.EpF();t.ynx(0),t.TgZ(1,"tr",10)(2,"td"),t._uU(3),t.qZA(),t.TgZ(4,"td"),t._uU(5),t.qZA(),t.TgZ(6,"td")(7,"button",11),t.NdJ("click",function(){const l=t.CHM(n).$implicit,p=t.oxw();return t.KtG(p.editProduct(l))}),t.TgZ(8,"mat-icon"),t._uU(9,"create"),t.qZA(),t._uU(10,"S\u1eeda"),t.qZA(),t.TgZ(11,"button",12),t.NdJ("click",function(){const l=t.CHM(n).$implicit,p=t.oxw();return t.KtG(p.handleDelete(null==l?null:l.providerId))}),t.TgZ(12,"mat-icon"),t._uU(13,"delete"),t.qZA(),t._uU(14,"Xo\xe1"),t.qZA()()(),t.BQk()}if(2&e){const n=s.$implicit,o=s.index;t.xp6(1),t.s9C("id",o),t.xp6(2),t.Oqu(null==n?null:n.providerId),t.xp6(2),t.Oqu(null==n?null:n.providerName)}}const _=function(e,s){return{itemsPerPage:6,currentPage:e,totalItems:s}},M=[{path:"",children:[{path:"",component:(()=>{class e{constructor(n,o,a,l,p,m){this.loader=n,this.fb=o,this.dialog=a,this.toastrService=l,this.router=p,this.service=m,this.allFood=0,this.pagination=1}ngOnInit(){this.initForm(),this.getAllSuppliers()}initForm(){this.form=this.fb.group({pageIndex:1,pageSize:6})}get f(){return this.form?.controls}addNewSupplier(){this.dialog.open(Z,{height:"auto",data:{suppliers:this.suppliers,title:"Th\xeam m\u1edbi nh\xe0 cung c\u1ea5p",reloadTable:()=>this.getAllSuppliers()}})}getAllSuppliers(){this.loader.show(),this.service.getAllSuppliersPaging(this.form?.value).subscribe(n=>{this.pagination=this.form?.get("pageIndex")?.value,this.suppliers=n?.data,this.allFood=n?.count}),this.loader.hide()}renderPage(n){this.form?.get("pageIndex")?.setValue(n),this.getAllSuppliers()}editProduct(n){}handleDelete(n){this.dialog.open(C.y,{disableClose:!1,width:"400px",height:"auto",data:{title:"Xo\xe1 s\u1ea3n ph\u1ea9m",subtitle:"B\u1ea1n c\xf3 mu\u1ed1n xo\xe1 s\u1ea3n ph\u1ea9m n\xe0y kh\xf4ng",buttonConfirm:"Xo\xe1",buttonCancel:"\u0110\xf3ng",isDelete:!0,onConfirm:()=>{this.service.deleteSupplier(n).subscribe({next:o=>{},error:o=>{this.toastrService.warning("Xo\xe1 th\u1ea5t b\u1ea1i","Th\xf4ng b\xe1o",{positionClass:"toast-bottom-right"}),console.log(o)},complete:()=>{this.toastrService.success("Xo\xe1 th\xe0nh c\xf4ng","Th\xf4ng b\xe1o",{positionClass:"toast-bottom-right"}),this.getAllSuppliers()}})}}})}}return e.\u0275fac=function(n){return new(n||e)(t.Y36(x.t2),t.Y36(r.QS),t.Y36(u.uw),t.Y36(g._W),t.Y36(c.F0),t.Y36(v.R))},e.\u0275cmp=t.Xpm({type:e,selectors:[["app-suppliers"]],decls:23,vars:8,consts:[[1,"container","mt-5",3,"formGroup"],[1,"card"],[1,"row","m-2"],[1,"search-case"],["type","button","mat-raised-button","","color","accent",1,"col-md-2",3,"click"],[1,"col-md-12"],[1,"table-container"],[4,"ngFor","ngForOf"],[1,"d-flex","justify-content-center"],[3,"pageChange"],[3,"id"],["color","primary","mat-raised-button","",2,"margin-right","10px",3,"click"],["color","warn","mat-raised-button","",3,"click"]],template:function(n,o){1&n&&(t.TgZ(0,"form",0)(1,"div",1)(2,"div",2)(3,"h2"),t._uU(4,"Nh\xe0 cung c\u1ea5p"),t.qZA(),t.TgZ(5,"div",3)(6,"button",4),t.NdJ("click",function(){return o.addNewSupplier()}),t._uU(7,"Th\xeam m\u1edbi"),t.qZA()()(),t.TgZ(8,"div",2)(9,"div",5)(10,"table",6)(11,"thead")(12,"tr")(13,"th"),t._uU(14," ID "),t.qZA(),t.TgZ(15,"th"),t._uU(16," T\xean nh\xe0 cung c\u1ea5p "),t.qZA(),t._UZ(17,"th"),t.qZA()(),t.TgZ(18,"tbody"),t.YNc(19,O,15,3,"ng-container",7),t.ALo(20,"paginate"),t.qZA()()()(),t.TgZ(21,"div",8)(22,"pagination-controls",9),t.NdJ("pageChange",function(l){return o.renderPage(l)}),t.qZA()()()()),2&n&&(t.Q6J("formGroup",o.form),t.xp6(19),t.Q6J("ngForOf",t.xi3(20,2,o.suppliers,t.WLB(5,_,o.pagination,o.allFood))))},dependencies:[f.sg,r._Y,r.JL,r.sg,b.lW,P.Hw,d.LS,d._s],styles:["button[_ngcontent-%COMP%]{margin-bottom:20px}.search-case[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between}.search-case[_ngcontent-%COMP%]   .form-field[_ngcontent-%COMP%]{display:flex;align-items:center}.search-case[_ngcontent-%COMP%]   .form-field[_ngcontent-%COMP%]   mat-form-field[_ngcontent-%COMP%]{width:400px;margin-right:10px}.table-container[_ngcontent-%COMP%]{width:100%;height:100%}.table-container[_ngcontent-%COMP%]   th[_ngcontent-%COMP%], .table-container[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{padding:15px 3px;border:1px solid #DBDBDB;white-space:nowrap;text-align:center}.table-container[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{background-color:#fff;color:#000}"]}),e})()}]}];let y=(()=>{class e{}return e.\u0275fac=function(n){return new(n||e)},e.\u0275mod=t.oAB({type:e}),e.\u0275inj=t.cJS({providers:[r.sg],imports:[f.ez,c.Bz.forChild(M),S.d,A.JF,g.Rh,d.JX,c.Bz]}),e})()}}]);