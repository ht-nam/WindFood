"use strict";(self.webpackChunkwindfood_ver1=self.webpackChunkwindfood_ver1||[]).push([[888],{7820:(T,_,r)=>{r.d(_,{y:()=>v});var a=r(6286),e=r(2223),y=r(4755),f=r(1728);const h=function(c,g){return{"text-center":c,"text-start":g}},C=function(c,g){return{"button-content d-flex align-items-center justify-content-center":c,"d-flex align-items-center justify-content-end":g}};let v=(()=>{class c{constructor(t,s,p){this.defaults=t,this.dialogRef=s,this.dialog=p,this.title="Ch\xfa \xfd",this.subtitle="B\u1ea1n c\xf3 mu\u1ed1n ti\u1ebfp t\u1ee5c kh\xf4ng?",this.buttonConfirm="Ti\u1ebfp t\u1ee5c",this.buttonCancel="Hu\u1ef7 b\u1ecf",this.isDelete=!1}ngOnInit(){this.defaults?.title&&this.defaults?.subtitle&&(this.title=this.defaults?.title,this.subtitle=this.defaults?.subtitle),this.defaults?.buttonConfirm&&this.defaults?.buttonCancel&&(this.buttonConfirm=this.defaults?.buttonConfirm,this.buttonCancel=this.defaults?.buttonCancel),this.defaults?.isDelete&&(this.isDelete=this.defaults.isDelete)}onConfirm(){this.defaults.onConfirm(),this.dialog.closeAll()}onClose(){this.dialogRef.close()}}return c.\u0275fac=function(t){return new(t||c)(e.Y36(a.WI),e.Y36(a.so),e.Y36(a.uw))},c.\u0275cmp=e.Xpm({type:c,selectors:[["app-confirm-dialogg"]],decls:12,vars:16,consts:[[1,"container"],[1,"row"],[3,"ngClass"],["mat-raised-button","","color","primary",3,"click"],["mat-raised-button","",2,"color","#000",3,"click"]],template:function(t,s){1&t&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div")(3,"h2",2),e._uU(4),e.qZA(),e.TgZ(5,"p",2),e._uU(6),e.qZA(),e.TgZ(7,"div",2)(8,"button",3),e.NdJ("click",function(){return s.onConfirm()}),e._uU(9),e.qZA(),e.TgZ(10,"button",4),e.NdJ("click",function(){return s.onClose()}),e._uU(11),e.qZA()()()()()),2&t&&(e.xp6(3),e.Q6J("ngClass",e.WLB(7,h,!s.isDelete,s.isDelete)),e.xp6(1),e.Oqu(s.title),e.xp6(1),e.Q6J("ngClass",e.WLB(10,h,!s.isDelete,s.isDelete)),e.xp6(1),e.Oqu(s.subtitle),e.xp6(1),e.Q6J("ngClass",e.WLB(13,C,!s.isDelete,s.isDelete)),e.xp6(2),e.Oqu(s.buttonConfirm),e.xp6(2),e.Oqu(s.buttonCancel))},dependencies:[y.mk,f.lW],styles:[".row[_ngcontent-%COMP%]{padding:10px}button[_ngcontent-%COMP%]{padding:5px 30px;border-radius:6px;margin-right:10px;color:#fff}.button-content[_ngcontent-%COMP%]{display:flex;overflow:hidden}"]}),c})()},4888:(T,_,r)=>{r.r(_),r.d(_,{CategoriesRoutingModule:()=>M});var a=r(9401),e=r(3144),y=r(4755),f=r(4333),h=r(2018),C=r(2480),v=r(2399),c=r(7820),g=r(6286),t=r(2223),s=r(2349),p=r(1728);let A=(()=>{class i{constructor(o,n,u,d,m,b){this.defaults=o,this.dialogRef=n,this.fb=u,this.dialog=d,this.toastrService=m,this.service=b}ngOnInit(){this.initForm()}initForm(){this.form=this.fb.group({categoryId:null,categoryName:null})}onSubmit(){this.dialog.open(c.y,{disableClose:!1,width:"400px",data:{products:this.defaults.products,isDelete:!1,onConfirm:()=>{let o=this.form?.getRawValue();this.service.addOrUpdateCategory(o).subscribe({next:n=>{n&&(this.toastrService.success("\u0110\xe3 th\xeam th\xe0nh c\xf4ng","Th\xf4ng b\xe1o",{positionClass:"toast-bottom-right"}),this.defaults.reloadTable())},error:n=>{this.toastrService.warning("Th\xeam th\u1ea5t b\u1ea1i","Th\xf4ng b\xe1o",{positionClass:"toast-bottom-right"})}})}}})}onClose(){this.dialogRef.close()}}return i.\u0275fac=function(o){return new(o||i)(t.Y36(g.WI),t.Y36(g.so),t.Y36(a.QS),t.Y36(g.uw),t.Y36(h._W),t.Y36(s.G))},i.\u0275cmp=t.Xpm({type:i,selectors:[["app-add-category-dialog"]],decls:16,vars:1,consts:[[1,"container"],[1,"mt-3"],[1,"row"],[3,"formGroup","ngSubmit"],[1,"form-group","row"],["for","name",1,"col-sm-5","col-form-label"],[1,"col-sm-7","form-input"],["type","text","formControlName","categoryName",1,"form-control"],[1,"row","mt-5","mb-5"],[1,"col-sm-12","d-flex","justify-content-end"],["color","primary","mat-raised-button","","type","submit",2,"margin-right","10px"],["mat-raised-button","","type","button",3,"click"]],template:function(o,n){1&o&&(t.TgZ(0,"div",0)(1,"h2",1),t._uU(2,"Th\xeam m\u1edbi ph\xe2n lo\u1ea1i"),t.qZA(),t.TgZ(3,"div",2)(4,"form",3),t.NdJ("ngSubmit",function(){return n.onSubmit()}),t.TgZ(5,"div",4)(6,"label",5),t._uU(7,"T\xean ph\xe2n lo\u1ea1i:"),t.qZA(),t.TgZ(8,"div",6),t._UZ(9,"input",7),t.qZA()(),t.TgZ(10,"div",8)(11,"div",9)(12,"button",10),t._uU(13,"Th\xeam"),t.qZA(),t.TgZ(14,"button",11),t.NdJ("click",function(){return n.onClose()}),t._uU(15,"\u0110\xf3ng"),t.qZA()()()()()()),2&o&&(t.xp6(4),t.Q6J("formGroup",n.form))},dependencies:[a._Y,a.Fj,a.JJ,a.JL,a.sg,a.u,p.lW],styles:["h2[_ngcontent-%COMP%]{margin-left:30px}form[_ngcontent-%COMP%]{width:50vw}form[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{margin-left:30px}form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]{margin-top:30px}.form-input[_ngcontent-%COMP%]{width:400px}"]}),i})(),Z=(()=>{class i{constructor(o,n,u,d,m,b){this.defaults=o,this.dialogRef=n,this.fb=u,this.dialog=d,this.toastrService=m,this.service=b}ngOnInit(){this.category=this.defaults.category,console.log(this.category),this.initForm()}initForm(){this.form=this.fb.group({categoryId:null,categoryName:null});let o={categoryId:this.category?.categoryId,categoryName:this.category?.categoryName};this.form?.setValue(o)}onSubmit(){this.dialog.open(c.y,{disableClose:!1,width:"400px",data:{isDelete:!1,onConfirm:()=>{let o=this.form?.getRawValue();this.service.addOrUpdateCategory(o).subscribe({next:n=>{n&&(this.toastrService.success("S\u1eeda th\xe0nh c\xf4ng","Th\xf4ng b\xe1o",{positionClass:"toast-bottom-right"}),this.defaults.reloadTable(),this.onClose())},error:n=>{this.toastrService.warning("S\u1eeda th\u1ea5t b\u1ea1i","Th\xf4ng b\xe1o",{positionClass:"toast-bottom-right"})}})}}})}onClose(){this.dialogRef.close()}}return i.\u0275fac=function(o){return new(o||i)(t.Y36(g.WI),t.Y36(g.so),t.Y36(a.QS),t.Y36(g.uw),t.Y36(h._W),t.Y36(s.G))},i.\u0275cmp=t.Xpm({type:i,selectors:[["app-edit-category-dialog"]],decls:16,vars:1,consts:[[1,"container"],[1,"mt-3"],[1,"row"],[3,"formGroup","ngSubmit"],[1,"form-group","row"],["for","name",1,"col-sm-5","col-form-label"],[1,"col-sm-7","form-input"],["type","text","formControlName","categoryName",1,"form-control"],[1,"row","mt-5","mb-5"],[1,"col-sm-12","d-flex","justify-content-end"],["color","primary","mat-raised-button","","type","submit",2,"margin-right","10px"],["mat-raised-button","","type","button",3,"click"]],template:function(o,n){1&o&&(t.TgZ(0,"div",0)(1,"h2",1),t._uU(2,"S\u1eeda ph\xe2n lo\u1ea1i"),t.qZA(),t.TgZ(3,"div",2)(4,"form",3),t.NdJ("ngSubmit",function(){return n.onSubmit()}),t.TgZ(5,"div",4)(6,"label",5),t._uU(7,"T\xean ph\xe2n lo\u1ea1i:"),t.qZA(),t.TgZ(8,"div",6),t._UZ(9,"input",7),t.qZA()(),t.TgZ(10,"div",8)(11,"div",9)(12,"button",10),t._uU(13,"S\u1eeda"),t.qZA(),t.TgZ(14,"button",11),t.NdJ("click",function(){return n.onClose()}),t._uU(15,"\u0110\xf3ng"),t.qZA()()()()()()),2&o&&(t.xp6(4),t.Q6J("formGroup",n.form))},dependencies:[a._Y,a.Fj,a.JJ,a.JL,a.sg,a.u,p.lW]}),i})();var D=r(346),x=r(430);function E(i,l){if(1&i){const o=t.EpF();t.ynx(0),t.TgZ(1,"tr",10)(2,"td"),t._uU(3),t.qZA(),t.TgZ(4,"td"),t._uU(5),t.qZA(),t.TgZ(6,"td",11)(7,"button",12),t.NdJ("click",function(){const d=t.CHM(o).$implicit,m=t.oxw();return t.KtG(m.editCategory(d))}),t.TgZ(8,"mat-icon"),t._uU(9,"create"),t.qZA(),t._uU(10,"S\u1eeda"),t.qZA(),t.TgZ(11,"button",13),t.NdJ("click",function(){const d=t.CHM(o).$implicit,m=t.oxw();return t.KtG(m.handleDelete(null==d?null:d.categoryId))}),t.TgZ(12,"mat-icon"),t._uU(13,"delete"),t.qZA(),t._uU(14,"Xo\xe1"),t.qZA()()(),t.BQk()}if(2&i){const o=l.$implicit,n=l.index;t.xp6(1),t.s9C("id",n),t.xp6(2),t.Oqu(null==o?null:o.categoryId),t.xp6(2),t.Oqu(null==o?null:o.categoryName)}}const O=function(i,l){return{itemsPerPage:6,currentPage:i,totalItems:l}},P=[{path:"",children:[{path:"",component:(()=>{class i{constructor(o,n,u,d,m,b){this.loader=o,this.fb=n,this.dialog=u,this.toastrService=d,this.router=m,this.service=b,this.allCategories=0,this.pagination=1}ngOnInit(){this.initForm(),this.getAllCategories()}initForm(){this.form=this.fb.group({pageIndex:1,pageSize:6})}get f(){return this.form?.controls}addNewCategory(){this.dialog.open(A,{height:"auto",data:{categories:this.categories,title:"Th\xeam m\u1edbi ph\xe2n lo\u1ea1i",reloadTable:()=>this.getAllCategories()}})}getAllCategories(){this.loader.show(),this.service.getAllCategoriesPaging(this.form?.value).subscribe(o=>{this.pagination=this.form?.get("pageIndex")?.value,this.categories=o?.data,this.allCategories=o?.count}),this.loader.hide()}renderPage(o){this.form?.get("pageIndex")?.setValue(o),this.getAllCategories()}editCategory(o){this.dialog.open(Z,{height:"auto",data:{category:o,buttonConfirm:"S\u1eeda",buttonCancel:"\u0110\xf3ng",title:"S\u1eeda th\xf4ng tin ph\xe2n lo\u1ea1i",reloadTable:()=>this.getAllCategories()}})}handleDelete(o){this.dialog.open(c.y,{disableClose:!1,width:"400px",height:"auto",data:{title:"Xo\xe1 ph\xe2n lo\u1ea1i",subtitle:"B\u1ea1n c\xf3 mu\u1ed1n xo\xe1 ph\xe2n lo\u1ea1i n\xe0y kh\xf4ng",buttonConfirm:"Xo\xe1",buttonCancel:"\u0110\xf3ng",isDelete:!0,onConfirm:()=>{this.service.deleteCategory(o).subscribe({next:n=>{},error:n=>{this.toastrService.warning("Xo\xe1 th\u1ea5t b\u1ea1i","Th\xf4ng b\xe1o",{positionClass:"toast-bottom-right"}),console.log(n)},complete:()=>{this.toastrService.success("Xo\xe1 th\xe0nh c\xf4ng","Th\xf4ng b\xe1o",{positionClass:"toast-bottom-right"})}})},reloadTable:()=>this.getAllCategories()}})}}return i.\u0275fac=function(o){return new(o||i)(t.Y36(D.t2),t.Y36(a.QS),t.Y36(g.uw),t.Y36(h._W),t.Y36(C.F0),t.Y36(s.G))},i.\u0275cmp=t.Xpm({type:i,selectors:[["app-categories"]],decls:23,vars:8,consts:[[1,"container","mt-5",3,"formGroup"],[1,"card"],[1,"row","m-2"],[1,"search-case"],["type","button","mat-raised-button","","color","accent",1,"col-md-2",3,"click"],[1,"col-md-12"],[1,"table-container"],[4,"ngFor","ngForOf"],[1,"d-flex","justify-content-center"],[3,"pageChange"],[3,"id"],[2,"width","300px"],["color","primary","mat-raised-button","",2,"margin-right","10px",3,"click"],["color","warn","mat-raised-button","",3,"click"]],template:function(o,n){1&o&&(t.TgZ(0,"form",0)(1,"div",1)(2,"div",2)(3,"h2"),t._uU(4,"Ph\xe2n lo\u1ea1i"),t.qZA(),t.TgZ(5,"div",3)(6,"button",4),t.NdJ("click",function(){return n.addNewCategory()}),t._uU(7,"Th\xeam m\u1edbi"),t.qZA()()(),t.TgZ(8,"div",2)(9,"div",5)(10,"table",6)(11,"thead")(12,"tr")(13,"th"),t._uU(14," ID "),t.qZA(),t.TgZ(15,"th"),t._uU(16," T\xean nh\xe2n vi\xean "),t.qZA(),t._UZ(17,"th"),t.qZA()(),t.TgZ(18,"tbody"),t.YNc(19,E,15,3,"ng-container",7),t.ALo(20,"paginate"),t.qZA()()()(),t.TgZ(21,"div",8)(22,"pagination-controls",9),t.NdJ("pageChange",function(d){return n.renderPage(d)}),t.qZA()()()()),2&o&&(t.Q6J("formGroup",n.form),t.xp6(19),t.Q6J("ngForOf",t.xi3(20,2,n.categories,t.WLB(5,O,n.pagination,n.allCategories))))},dependencies:[y.sg,a._Y,a.JL,a.sg,p.lW,x.Hw,f.LS,f._s],styles:["button[_ngcontent-%COMP%]{margin-bottom:20px}.search-case[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between}.search-case[_ngcontent-%COMP%]   .form-field[_ngcontent-%COMP%]{display:flex;align-items:center}.search-case[_ngcontent-%COMP%]   .form-field[_ngcontent-%COMP%]   mat-form-field[_ngcontent-%COMP%]{width:400px;margin-right:10px}.table-container[_ngcontent-%COMP%]{width:100%;height:100%}.table-container[_ngcontent-%COMP%]   th[_ngcontent-%COMP%], .table-container[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{padding:15px 3px;border:1px solid #DBDBDB;white-space:nowrap;text-align:center}.table-container[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{background-color:#fff;color:#000}"]}),i})()}]}];let M=(()=>{class i{}return i.\u0275fac=function(o){return new(o||i)},i.\u0275mod=t.oAB({type:i}),i.\u0275inj=t.cJS({providers:[a.sg],imports:[y.ez,C.Bz.forChild(P),v.d,e.JF,h.Rh,f.JX,C.Bz]}),i})()}}]);